{% load crispy_forms_tags %}
<form method="post" hx-post="{% url 'create-procurement-order' %}" hx-target="#modal-body" hx-swap="outerHTML">
    {% csrf_token %}
    {{ form.order_date|as_crispy_field }}
    {{ form.supplier|as_crispy_field }}
    {{ form.procurement_status|as_crispy_field}}

    <select name="employee" id="employee-select" class="form-select form-select-sm pb-2 select2 "
        hx-get="{% url 'employee-info' %}"
        hx-trigger="change"
        hx-target="#employee-info-card"
        hx-include="#employee-select">
        <option value="">Select employee</option>
        {% for employee in employees %}
            <option value="{{ employee.pk }}">{{ employee.first_name }} {{ employee.last_name }}</option>
        {% endfor %}
    </select>

    <div id="employee-info-card" class="mt-3"></div>

    <div class="d-grid gap-2 mt-3">
        <button type="submit" class="btn btn-primary">Save Order</button>
    </div>
</form>

